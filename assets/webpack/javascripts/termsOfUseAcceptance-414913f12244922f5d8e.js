webpackJsonx([23],{15:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.url,r=e.method,n=e.headers,a=void 0===n?{}:n,i=e.data,c=void 0===i?{}:i,s=e.query,y=void 0===s?{}:s,S=e.abortTag,E=e.timeout,O=e.includeAuthToken,g=void 0===O||O,_=e.protectCSRF,b=void 0!==_&&_,R=null;try{R=window.Raise.data.authenticity_token}catch(e){}var A=g&&R?{"X-Auth-Token":R}:{},h=v(r)&&"application/json"===p["Content-Type"]?{Accept:"application/json"}:{},j=o({},p,h,a,A);return new Promise(function(e,n){var a=(0,u.default)(r,t);if(S){var o=f[S];o&&o.abort(),f[S]=a}"number"==typeof E&&(a=a.timeout(E));var i=c;"application/x-www-form-urlencoded"===j["Content-Type"]&&(i=d.default.stringify(c,{encode:!1})),b&&(j["X-CSRF-Token"]=m()),a.set(j).use(l.default).send(i).query(y).end(function(t,r){S&&delete f[S],t?n(t):e(r.body)})})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.request=a;var i=r(57),u=n(i),c=r(59),l=n(c),s=r(22),d=n(s),f={},p={"Content-Type":"application/json",Accept:"application/json"},m=function(){var e=document.querySelector('meta[name="csrf-token"]');return e?e.content:""},v=function(e){return"POST"===e||"PUT"===e}},1780:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(0),o=n(a),i=r(8),u=n(i),c=r(39),l=r(41),s=n(l),d=r(1781),f=n(d),p=r(1782),m=n(p),v=r(333),y=n(v),S=r(339),E=n(S),O=(0,E.default)(window.Raise.data.termsOfUseAcceptance),g=(0,f.default)(O),_=(0,c.connect)(function(e){return e.toJS()})(y.default);(0,s.default)(function(){(0,m.default)(g);var e=document.getElementById("react-terms-of-use-acceptance-container");e&&u.default.render(o.default.createElement(_,{store:g}),e)})},1781:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(45),a=r(97),o=r(26),i=r(172),u=function(e){return e&&e.__esModule?e:{default:e}}(i),c=function(e){var t=window.devToolsExtension?window.devToolsExtension():function(e){return e};return(0,n.createStore)(a.reducer,e,(0,n.compose)((0,n.applyMiddleware)(u.default),(0,o.install)(),t))};t.default=function(e){return c(e)}},1782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97),a=r(82),o=function(e,t){var r=e;return function(e,n){r!==e&&(n?t(e,n):t(e),r=e)}};t.default=function(e){var t=document.querySelector(a.DOM_REFS.USER_SIGN_IN.LOGIN),r=document.querySelector(a.DOM_REFS.USER_SIGN_UP.SIGN_UP),i=t||r,u=document.body,c=null;if(t){e.dispatch(n.Actions.setPage(a.PAGES.LOGIN)),c=document.querySelector(a.DOM_REFS.USER_SIGN_IN.FORM);var l=document.querySelector(a.DOM_REFS.USER_SIGN_IN.EMAIL),s=document.querySelector(a.DOM_REFS.USER_SIGN_IN.PASSWORD);t.addEventListener("click",function(t){t.preventDefault();var r={user:{email:l.value,password:s.value}};e.dispatch(n.Actions.ajaxLoginStart(r))})}r&&(e.dispatch(n.Actions.setPage(a.PAGES.SIGNUP)),c=document.querySelector(a.DOM_REFS.USER_SIGN_UP.FORM)||document.querySelector(a.DOM_REFS.USER_SIGN_UP.SIGNUP_PROMO_FORM),r.addEventListener("click",function(t){t.preventDefault(),e.dispatch(n.Actions.signupClick())}));var d=document.createElement("input");d.type="hidden",d.name="user[accepted_terms]",d.value="false",c.appendChild(d);var f=o(!0,function(e){e?(u.style.overflow="",i.removeAttribute("disabled")):(u.style.overflow="hidden",i.setAttribute("disabled","disabled"))}),p=o(!1,function(e,t){e&&(t&&(d.value="true"),c.submit())});e.subscribe(function(){var t=e.getState(),r=t.get("termsState"),n=r!==a.TERMS_STATE.SHOW_MODAL,o=t.get("submit");if(f(n),p(o,t.get("userAccepted")),r===a.TERMS_STATE.SHOW_ERROR){var i=document.querySelector(".error-message-box")||document.querySelector(a.DOM_REFS.USER_SIGN_IN.FLASH_MESSAGE);i&&i.parentNode.removeChild(i)}})}},184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e={PROD:"UA-38165814-1",TEST:"UA-106701321-1",DEV:"/dev/null"};return-1!==window.location.pathname.indexOf("raise.com")?e.PROD:-1!==window.location.pathname.indexOf("raise-test.com")?e.TEST:e.DEV},a=!1,o=function(){null!==document.querySelector('script[src="//www.google-analytics.com/analytics.js"]')||function(e,t,r,n,a,o,i){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,o=t.createElement(r),i=t.getElementsByTagName(r)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",i.parentNode.insertBefore(o,i)}(window,document,"script",0,"ga");var e=n();window.ga("create",e,"auto"),a=!0},i=function(e){return function(){a||o(),e.apply(void 0,arguments)}}(function(e,t,r){window.ga("send","event",e,t,r)});t.default={sendEvent:i}},22:function(e,t,r){"use strict";var n=r(23),a=r(24);e.exports={stringify:n,parse:a}},23:function(e,t,r){"use strict";var n=r(9),a={delimiter:"&",arrayPrefixGenerators:{brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},strictNullHandling:!1,skipNulls:!1,encode:!0};a.stringify=function(e,t,r,o,i,u,c,l,s){var d=e;if("function"==typeof c)d=c(t,d);else if(n.isBuffer(d))d=String(d);else if(d instanceof Date)d=d.toISOString();else if(null===d){if(o)return u?n.encode(t):t;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d)return u?[n.encode(t)+"="+n.encode(d)]:[t+"="+d];var f=[];if(void 0===d)return f;var p;if(Array.isArray(c))p=c;else{var m=Object.keys(d);p=l?m.sort(l):m}for(var v=0;v<p.length;++v){var y=p[v];i&&null===d[y]||(f=Array.isArray(d)?f.concat(a.stringify(d[y],r(t,y),r,o,i,u,c,l,s)):f.concat(a.stringify(d[y],t+(s?"."+y:"["+y+"]"),r,o,i,u,c,l,s)))}return f},e.exports=function(e,t){var r,n,o=e,i=t||{},u=void 0===i.delimiter?a.delimiter:i.delimiter,c="boolean"==typeof i.strictNullHandling?i.strictNullHandling:a.strictNullHandling,l="boolean"==typeof i.skipNulls?i.skipNulls:a.skipNulls,s="boolean"==typeof i.encode?i.encode:a.encode,d="function"==typeof i.sort?i.sort:null,f=void 0!==i.allowDots&&i.allowDots;"function"==typeof i.filter?(n=i.filter,o=n("",o)):Array.isArray(i.filter)&&(r=n=i.filter);var p=[];if("object"!=typeof o||null===o)return"";var m;m=i.arrayFormat in a.arrayPrefixGenerators?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var v=a.arrayPrefixGenerators[m];r||(r=Object.keys(o)),d&&r.sort(d);for(var y=0;y<r.length;++y){var S=r[y];l&&null===o[S]||(p=p.concat(a.stringify(o[S],S,v,c,l,s,n,d,f)))}return p.join(u)}},24:function(e,t,r){"use strict";var n=r(9),a={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};a.parseValues=function(e,t){for(var r={},a=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),o=0;o<a.length;++o){var i=a[o],u=-1===i.indexOf("]=")?i.indexOf("="):i.indexOf("]=")+1;if(-1===u)r[n.decode(i)]="",t.strictNullHandling&&(r[n.decode(i)]=null);else{var c=n.decode(i.slice(0,u)),l=n.decode(i.slice(u+1));Object.prototype.hasOwnProperty.call(r,c)?r[c]=[].concat(r[c]).concat(l):r[c]=l}}return r},a.parseObject=function(e,t,r){if(!e.length)return t;var n,o=e.shift();if("[]"===o)n=[],n=n.concat(a.parseObject(e,t,r));else{n=r.plainObjects?Object.create(null):{};var i="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,u=parseInt(i,10);!isNaN(u)&&o!==i&&String(u)===i&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(n=[],n[u]=a.parseObject(e,t,r)):n[i]=a.parseObject(e,t,r)}return n},a.parseKeys=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^\.\[]+)/g,"[$1]"):e,o=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,u=o.exec(n),c=[];if(u[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(u[1])&&!r.allowPrototypes)return;c.push(u[1])}for(var l=0;null!==(u=i.exec(n))&&l<r.depth;)l+=1,(r.plainObjects||!Object.prototype.hasOwnProperty(u[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&c.push(u[1]);return u&&c.push("["+n.slice(u.index)+"]"),a.parseObject(c,t,r)}},e.exports=function(e,t){var r=t||{};if(r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"==typeof r.depth?r.depth:a.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var o="string"==typeof e?a.parseValues(e,r):e,i=r.plainObjects?Object.create(null):{},u=Object.keys(o),c=0;c<u.length;++c){var l=u[c],s=a.parseKeys(l,o[l],r);i=n.merge(i,s,r)}return n.compact(i)}},32:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28);t.default=function(e,t){return t.reduce(function(t,r){return t[r]=(0,n.createAction)(e+":"+r),t},{})}},333:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=n(a),i=r(1),u=n(i),c=r(334),l=n(c),s=r(337),d=n(s),f=r(82);window.dataLayer=window.dataLayer||[];var p=void 0,m=function(e){var t=e.termsState,r=null;switch(t){case f.TERMS_STATE.HIDE:break;case f.TERMS_STATE.SHOW_MODAL:r=o.default.createElement(l.default,e),e.page!==f.PAGES.SIGNUP||p||(function(){var e={event:"signup",step:"2",step_name:"t&c"};window.dataLayer.push(e)}(),p=!0);break;case f.TERMS_STATE.SHOW_ERROR:r=o.default.createElement(d.default,e)}return o.default.createElement("div",null,r)};m.propTypes={termsState:u.default.string.isRequired},t.default=m},334:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=n(a),i=r(1),u=n(i),c=r(184),l=n(c),s=r(97),d=r(336),f=n(d),p=r(82),m=function(e){var t=e.termsContent,r=e.staticData,n=e.page,a=r.modal,i=a.title,u=a.scrollMessage,c=a.loginHeader,d=null,m=function(t){t.preventDefault(),l.default.sendEvent("ui-behavior","accepted","terms-modal"),e.dispatch(s.Actions.acceptTerms())},v=function(t){t.preventDefault(),l.default.sendEvent("ui-behavior","rejected","terms-modal"),e.dispatch(s.Actions.rejectTerms())},y=function(e){e.preventDefault()};return n===p.PAGES.LOGIN?d=c:n===p.PAGES.SIGNUP&&(d=i),o.default.createElement("div",null,o.default.createElement("div",{className:"modal-backdrop fade in",onTouchStart:y}),o.default.createElement("div",{className:"modal fade in "+f.default.modal},o.default.createElement("div",{className:"modal-header"},o.default.createElement("h3",null,d)),o.default.createElement("div",{className:f.default.body},o.default.createElement("span",{id:"terms-modal-scroll-message",dangerouslySetInnerHTML:{__html:u}}),o.default.createElement("div",{id:"terms-modal-content",className:f.default.content},o.default.createElement("div",{dangerouslySetInnerHTML:{__html:t}}))),o.default.createElement("div",{className:"modal-footer "+f.default.modalFooter},o.default.createElement("button",{id:"terms-modal-agree",className:"btn btn-action pull-left",onClick:m}," I AGREE "),o.default.createElement("button",{id:"terms-modal-cancel",className:"btn btn-normal pull-left",onClick:v}," CANCEL "))))};m.propTypes={dispatch:u.default.func.isRequired,termsContent:u.default.string,staticData:u.default.object.isRequired,page:u.default.string.isRequired},t.default=m},335:function(e,t,r){"use strict";function n(e){return{url:"/terms/did_accept",method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},protectCSRF:!0,timeout:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,data:e}}function a(e){var t=n(e);return(0,o.request)(t).then(i.Actions.ajaxLoginSuccess).catch(function(){return i.Actions.internalFailure()})}Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxLoginRequest=n,t.default=a;var o=r(15),i=r(97)},336:function(e,t){e.exports={modal:"modal--10hOH",body:"body--bstyp",content:"content--1uAMX",modalFooter:"modalFooter--pvxPQ",disabled:"disabled--36zqp",warning:"warning--1Bp8u"}},337:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=n(a),i=r(1),u=n(i),c=r(97),l=r(82),s=r(338),d=n(s),f=function(e){return function(t){t.preventDefault(),e(c.Actions.hideErrorMessage())}},p=function(e){var t=e.staticData.rejectError,r=t.login,n=t.signup,a=e.page===l.PAGES.LOGIN?r:n;return e.internalError&&(a=e.staticData.internalError),o.default.createElement("div",{className:"alert alert-main alert-error "+d.default.errorDiv},o.default.createElement("button",{className:"close",onClick:f(e.dispatch)},"×"),o.default.createElement("p",{className:"flash-message"},a))};p.propTypes={dispatch:u.default.func.isRequired,page:u.default.string.isRequired,staticData:u.default.object.isRequired,internalError:u.default.bool.isRequired},t.default=p},338:function(e,t){e.exports={errorDiv:"errorDiv--1jk8B"}},339:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),a=r(82),o=function(e,t){try{return e.split(".").reduce(function(e,t){return e[t]},t)}catch(e){return null}};t.default=function(e){var t=o("modal",e),r=o("rejectError",e),i=o("internalError",e),u=o("termsContent",e)||null;return(0,n.fromJS)({staticData:{modal:t,rejectError:r,internalError:i},termsState:a.TERMS_STATE.HIDE,termsContent:u,page:null,loginValues:null,submit:!1,internalError:!1,userAccepted:!1})}},82:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOM_REFS={USER_SIGN_IN:{FORM:"#login-form",EMAIL:"#user_email",PASSWORD:"#user_password",LOGIN:"#login-button",FLASH_MESSAGE:"#flash-container"},USER_SIGN_UP:{SIGN_UP:"#signup-button",FORM:"#signup-form",SIGNUP_PROMO_FORM:"#new_user_registration_form"}},t.TERMS_STATE={SHOW_MODAL:"SHOW_MODAL",HIDE:"HIDE",SHOW_ERROR:"SHOW_ERROR"},t.PAGES={LOGIN:"LOGIN",SIGNUP:"SIGNUP"}},9:function(e,t,r){"use strict";var n=function(){for(var e=new Array(256),t=0;t<256;++t)e[t]="%"+((t<16?"0":"")+t.toString(16)).toUpperCase();return e}();t.arrayToObject=function(e,t){for(var r=t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,n){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];e[r]=!0}return e}if("object"!=typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=t.arrayToObject(e,n)),Object.keys(r).reduce(function(e,a){var o=r[a];return Object.prototype.hasOwnProperty.call(e,a)?e[a]=t.merge(e[a],o,n):e[a]=o,e},a)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",a=0;a<t.length;++a){var o=t.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=t.charAt(a):o<128?r+=n[o]:o<2048?r+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?r+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(a)),r+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return r},t.compact=function(e,r){if("object"!=typeof e||null===e)return e;var n=r||[],a=n.indexOf(e);if(-1!==a)return n[a];if(n.push(e),Array.isArray(e)){for(var o=[],i=0;i<e.length;++i)void 0!==e[i]&&o.push(e[i]);return o}for(var u=Object.keys(e),c=0;c<u.length;++c){var l=u[c];e[l]=t.compact(e[l],n)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},97:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.getReducer=t.Actions=void 0;var o=r(32),i=n(o),u=r(28),c=r(26),l=r(82),s=r(335),d=n(s),f=t.Actions=(0,i.default)("TermsOfUseAcceptance",["setPage","ajaxLoginStart","ajaxLoginSuccess","internalFailure","acceptTerms","rejectTerms","hideErrorMessage","signupClick"]),p=t.getReducer=function(e){var t;return(0,u.createReducer)((t={},a(t,f.setPage,function(e,t){return e.set("page",t)}),a(t,f.ajaxLoginStart,function(e,t){return(0,c.loop)(e.set("loginValues",t),c.Effects.promise(d.default,t))}),a(t,f.ajaxLoginSuccess,function(e,t){var r=e,n=t.authenticated,a=t.accepted;if(n)if(a)r=r.set("submit",!0);else{var o=t.markup,i=o?c.Effects.none():c.Effects.constant(f.internalFailure());r=(0,c.loop)(e.set("termsState",l.TERMS_STATE.SHOW_MODAL).set("termsContent",o).set("internalError",!1),i)}else r=r.set("submit",!0);return r}),a(t,f.internalFailure,function(e){return e.set("termsState",l.TERMS_STATE.SHOW_ERROR).set("internalError",!0)}),a(t,f.signupClick,function(e){var t=!e.get("termsContent"),r=t?l.TERMS_STATE.SHOW_ERROR:l.TERMS_STATE.SHOW_MODAL;return e.set("termsState",r).set("internalError",t)}),a(t,f.acceptTerms,function(e){return e.set("submit",!0).set("userAccepted",!0)}),a(t,f.rejectTerms,function(e){return e.set("termsState",l.TERMS_STATE.SHOW_ERROR)}),a(t,f.hideErrorMessage,function(e){return e.set("termsState",l.TERMS_STATE.HIDE).set("internalError",!1)}),t),e)};t.reducer=p()}},[1780]);